local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "DucWare",
    SubTitle = "by Duck",
    TabWidth = 160,
    Size = UDim2.fromOffset(570, 440), --rộng,dài
    Acrylic = true,
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Lobby = Window:AddTab({ Title = "Lobby", Icon = "box" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
}

------------Lobby------------
-- Reference to RemoteEvent
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local SellRemote = ReplicatedStorage:WaitForChild("Event"):WaitForChild("Sell")

-- Dropdown list
local rarities = { "Rare", "Epic", "Legendary", "Mythical" }
local SelectedRarities = {}

-- Add Dropdown
local Dropdown = Tabs.Lobby:AddDropdown("RarityDropdown", {
    Title = "Select Rarities to Auto-Sell",
    Values = rarities,
    Multi = true, -- Cho phép chọn nhiều độ hiếm
    Default = {},
    Callback = function(selected)
        SelectedRarities = selected
        print("Selected rarities:", table.concat(SelectedRarities, ", "))
    end
})

-- Add Toggle
Tabs.Lobby:AddToggle("AutoSellToggle", {
    Title = "Auto Sell",
    Default = false,
    Callback = function(isEnabled)
        if isEnabled then
            if #SelectedRarities == 0 then
                warn("Bạn chưa chọn độ hiếm nào để bán tự động.")
                return
            end
            print("Auto Sell Enabled. Selling rarities:", table.concat(SelectedRarities, ", "))
            SellRemote:FireServer(SelectedRarities)
        else
            print("Auto Sell Disabled")
        end
    end
})
