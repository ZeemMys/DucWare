local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CodesEvent = ReplicatedStorage:WaitForChild("Event"):WaitForChild("Codes")

-- Load Rayfield UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- T·∫°o c·ª≠a s·ªï Rayfield
local Window = Rayfield:CreateWindow({
    Name = "DucWare ‚Äî Anime Saga",
    Icon = 0,
    LoadingTitle = "Wait a minute, the script is loading",
    LoadingSubtitle = "by DucWare",
    Theme = "Amethyst",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "DucWare",
        FileName = "DucWareZ"
    },
    Discord = {
        Enabled = true,
        Invite = "PnHj485p",
        RememberJoins = false
    },
    KeySystem = true,
    KeySettings = {
        Title = "Get Key",
        Subtitle = "Key System",
        Note = "Key: DucWare",
        FileName = "Key",
        SaveKey = true,
        Key = {"DucWare"}
    }
})

-- Notify kh·ªüi ƒë·ªông
Rayfield:Notify({
    Title = "Enjoy",
    Content = "Have Fun :)",
    Duration = 5,
    Image = "number"
})

-- Danh s√°ch m√£ code
local allCodes = {"Release", "SorryForDelay", "SorryForShutdown"}

-- Danh s√°ch m√£ ƒë√£ d√πng (s·∫Ω l∆∞u l·∫°i trong session)
local usedCodes = {}

-- Tab Lobby
local LobbyTab = Window:CreateTab("Lobby", 4483362458)

-- N√∫t redeem code
LobbyTab:CreateButton({
    Name = "Redeem All Codes",
    Callback = function()
        for _, code in ipairs(allCodes) do
            -- Ki·ªÉm tra m√£ ƒë√£ d√πng ch∆∞a
            if not usedCodes[code] then
                local success, err = pcall(function()
                    CodesEvent:FireServer(code)
                end)

                if success then
                    usedCodes[code] = true -- ƒë√°nh d·∫•u ƒë√£ d√πng

                    Rayfield:Notify({
                        Title = "‚úÖ Th√†nh c√¥ng",
                        Content = "ƒê√£ g·ª≠i m√£: " .. code,
                        Duration = 3
                    })
                else
                    Rayfield:Notify({
                        Title = "‚ùå L·ªói",
                        Content = "M√£ " .. code .. " th·∫•t b·∫°i: " .. tostring(err),
                        Duration = 3
                    })
                end

                task.wait(2) -- tr√°nh spam
            else
                Rayfield:Notify({
                    Title = "‚è© B·ªè qua",
                    Content = "M√£ " .. code .. " ƒë√£ d√πng tr∆∞·ªõc ƒë√≥",
                    Duration = 2
                })
            end
        end

        Rayfield:Notify({
            Title = "üéâ Ho√†n t·∫•t",
            Content = "ƒê√£ th·ª≠ redeem t·∫•t c·∫£ m√£ ch∆∞a nh·∫≠p!",
            Duration = 5
        })
    end
})
